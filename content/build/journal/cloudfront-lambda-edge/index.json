{"code":"var Component=(()=>{var mr=Object.create;var F=Object.defineProperty;var br=Object.getOwnPropertyDescriptor;var cr=Object.getOwnPropertyNames;var ur=Object.getPrototypeOf,xr=Object.prototype.hasOwnProperty;var G=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),hr=(a,e)=>{for(var b in e)F(a,b,{get:e[b],enumerable:!0})},ke=(a,e,b,P)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let w of cr(e))!xr.call(a,w)&&w!==b&&F(a,w,{get:()=>e[w],enumerable:!(P=br(e,w))||P.enumerable});return a};var pr=(a,e,b)=>(b=a!=null?mr(ur(a)):{},ke(e||!a||!a.__esModule?F(b,\"default\",{value:a,enumerable:!0}):b,a)),wr=a=>ke(F({},\"__esModule\",{value:!0}),a);var ve=G((Ur,je)=>{je.exports=React});var Ue=G(K=>{\"use strict\";(function(){\"use strict\";var a=ve(),e=Symbol.for(\"react.element\"),b=Symbol.for(\"react.portal\"),P=Symbol.for(\"react.fragment\"),w=Symbol.for(\"react.strict_mode\"),X=Symbol.for(\"react.profiler\"),J=Symbol.for(\"react.provider\"),Q=Symbol.for(\"react.context\"),C=Symbol.for(\"react.forward_ref\"),D=Symbol.for(\"react.suspense\"),B=Symbol.for(\"react.suspense_list\"),R=Symbol.for(\"react.memo\"),I=Symbol.for(\"react.lazy\"),Re=Symbol.for(\"react.offscreen\"),Z=Symbol.iterator,Te=\"@@iterator\";function Se(n){if(n===null||typeof n!=\"object\")return null;var d=Z&&n[Z]||n[Te];return typeof d==\"function\"?d:null}var k=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function c(n){{for(var d=arguments.length,_=new Array(d>1?d-1:0),o=1;o<d;o++)_[o-1]=arguments[o];Ae(\"error\",n,_)}}function Ae(n,d,_){{var o=k.ReactDebugCurrentFrame,l=o.getStackAddendum();l!==\"\"&&(d+=\"%s\",_=_.concat([l]));var t=_.map(function(s){return String(s)});t.unshift(\"Warning: \"+d),Function.prototype.apply.call(console[n],console,t)}}var Oe=!1,Fe=!1,De=!1,Be=!1,Ie=!1,ee;ee=Symbol.for(\"react.module.reference\");function qe(n){return!!(typeof n==\"string\"||typeof n==\"function\"||n===P||n===X||Ie||n===w||n===D||n===B||Be||n===Re||Oe||Fe||De||typeof n==\"object\"&&n!==null&&(n.$$typeof===I||n.$$typeof===R||n.$$typeof===J||n.$$typeof===Q||n.$$typeof===C||n.$$typeof===ee||n.getModuleId!==void 0))}function $e(n,d,_){var o=n.displayName;if(o)return o;var l=d.displayName||d.name||\"\";return l!==\"\"?_+\"(\"+l+\")\":_}function re(n){return n.displayName||\"Context\"}function p(n){if(n==null)return null;if(typeof n.tag==\"number\"&&c(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof n==\"function\")return n.displayName||n.name||null;if(typeof n==\"string\")return n;switch(n){case P:return\"Fragment\";case b:return\"Portal\";case X:return\"Profiler\";case w:return\"StrictMode\";case D:return\"Suspense\";case B:return\"SuspenseList\"}if(typeof n==\"object\")switch(n.$$typeof){case Q:var d=n;return re(d)+\".Consumer\";case J:var _=n;return re(_._context)+\".Provider\";case C:return $e(n,n.render,\"ForwardRef\");case R:var o=n.displayName||null;return o!==null?o:p(n.type)||\"Memo\";case I:{var l=n,t=l._payload,s=l._init;try{return p(s(t))}catch{return null}}}return null}var y=Object.assign,U=0,ne,de,_e,oe,ie,se,le;function ae(){}ae.__reactDisabledLog=!0;function Le(){{if(U===0){ne=console.log,de=console.info,_e=console.warn,oe=console.error,ie=console.group,se=console.groupCollapsed,le=console.groupEnd;var n={configurable:!0,enumerable:!0,value:ae,writable:!0};Object.defineProperties(console,{info:n,log:n,warn:n,error:n,group:n,groupCollapsed:n,groupEnd:n})}U++}}function Me(){{if(U--,U===0){var n={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:y({},n,{value:ne}),info:y({},n,{value:de}),warn:y({},n,{value:_e}),error:y({},n,{value:oe}),group:y({},n,{value:ie}),groupCollapsed:y({},n,{value:se}),groupEnd:y({},n,{value:le})})}U<0&&c(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var q=k.ReactCurrentDispatcher,$;function T(n,d,_){{if($===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\\n( *(at )?)/);$=o&&o[1]||\"\"}return`\n`+$+n}}var L=!1,S;{var We=typeof WeakMap==\"function\"?WeakMap:Map;S=new We}function te(n,d){if(!n||L)return\"\";{var _=S.get(n);if(_!==void 0)return _}var o;L=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var t;t=q.current,q.current=null,Le();try{if(d){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(x){o=x}Reflect.construct(n,[],s)}else{try{s.call()}catch(x){o=x}n.call(s.prototype)}}else{try{throw Error()}catch(x){o=x}n()}}catch(x){if(x&&o&&typeof x.stack==\"string\"){for(var i=x.stack.split(`\n`),u=o.stack.split(`\n`),f=i.length-1,m=u.length-1;f>=1&&m>=0&&i[f]!==u[m];)m--;for(;f>=1&&m>=0;f--,m--)if(i[f]!==u[m]){if(f!==1||m!==1)do if(f--,m--,m<0||i[f]!==u[m]){var h=`\n`+i[f].replace(\" at new \",\" at \");return n.displayName&&h.includes(\"<anonymous>\")&&(h=h.replace(\"<anonymous>\",n.displayName)),typeof n==\"function\"&&S.set(n,h),h}while(f>=1&&m>=0);break}}}finally{L=!1,q.current=t,Me(),Error.prepareStackTrace=l}var v=n?n.displayName||n.name:\"\",N=v?T(v):\"\";return typeof n==\"function\"&&S.set(n,N),N}function Ve(n,d,_){return te(n,!1)}function Ye(n){var d=n.prototype;return!!(d&&d.isReactComponent)}function A(n,d,_){if(n==null)return\"\";if(typeof n==\"function\")return te(n,Ye(n));if(typeof n==\"string\")return T(n);switch(n){case D:return T(\"Suspense\");case B:return T(\"SuspenseList\")}if(typeof n==\"object\")switch(n.$$typeof){case C:return Ve(n.render);case R:return A(n.type,d,_);case I:{var o=n,l=o._payload,t=o._init;try{return A(t(l),d,_)}catch{}}}return\"\"}var g=Object.prototype.hasOwnProperty,fe={},me=k.ReactDebugCurrentFrame;function O(n){if(n){var d=n._owner,_=A(n.type,n._source,d?d.type:null);me.setExtraStackFrame(_)}else me.setExtraStackFrame(null)}function He(n,d,_,o,l){{var t=Function.call.bind(g);for(var s in n)if(t(n,s)){var i=void 0;try{if(typeof n[s]!=\"function\"){var u=Error((o||\"React class\")+\": \"+_+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof n[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw u.name=\"Invariant Violation\",u}i=n[s](d,s,o,_,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(f){i=f}i&&!(i instanceof Error)&&(O(l),c(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",_,s,typeof i),O(null)),i instanceof Error&&!(i.message in fe)&&(fe[i.message]=!0,O(l),c(\"Failed %s type: %s\",_,i.message),O(null))}}}var ze=Array.isArray;function M(n){return ze(n)}function Ge(n){{var d=typeof Symbol==\"function\"&&Symbol.toStringTag,_=d&&n[Symbol.toStringTag]||n.constructor.name||\"Object\";return _}}function Ke(n){try{return be(n),!1}catch{return!0}}function be(n){return\"\"+n}function ce(n){if(Ke(n))return c(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Ge(n)),be(n)}var E=k.ReactCurrentOwner,Xe={key:!0,ref:!0,__self:!0,__source:!0},ue,xe,W;W={};function Je(n){if(g.call(n,\"ref\")){var d=Object.getOwnPropertyDescriptor(n,\"ref\").get;if(d&&d.isReactWarning)return!1}return n.ref!==void 0}function Qe(n){if(g.call(n,\"key\")){var d=Object.getOwnPropertyDescriptor(n,\"key\").get;if(d&&d.isReactWarning)return!1}return n.key!==void 0}function Ze(n,d){if(typeof n.ref==\"string\"&&E.current&&d&&E.current.stateNode!==d){var _=p(E.current.type);W[_]||(c('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',p(E.current.type),n.ref),W[_]=!0)}}function er(n,d){{var _=function(){ue||(ue=!0,c(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",d))};_.isReactWarning=!0,Object.defineProperty(n,\"key\",{get:_,configurable:!0})}}function rr(n,d){{var _=function(){xe||(xe=!0,c(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",d))};_.isReactWarning=!0,Object.defineProperty(n,\"ref\",{get:_,configurable:!0})}}var nr=function(n,d,_,o,l,t,s){var i={$$typeof:e,type:n,key:d,ref:_,props:s,_owner:t};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:l}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function dr(n,d,_,o,l){{var t,s={},i=null,u=null;_!==void 0&&(ce(_),i=\"\"+_),Qe(d)&&(ce(d.key),i=\"\"+d.key),Je(d)&&(u=d.ref,Ze(d,l));for(t in d)g.call(d,t)&&!Xe.hasOwnProperty(t)&&(s[t]=d[t]);if(n&&n.defaultProps){var f=n.defaultProps;for(t in f)s[t]===void 0&&(s[t]=f[t])}if(i||u){var m=typeof n==\"function\"?n.displayName||n.name||\"Unknown\":n;i&&er(s,m),u&&rr(s,m)}return nr(n,i,u,l,o,E.current,s)}}var V=k.ReactCurrentOwner,he=k.ReactDebugCurrentFrame;function j(n){if(n){var d=n._owner,_=A(n.type,n._source,d?d.type:null);he.setExtraStackFrame(_)}else he.setExtraStackFrame(null)}var Y;Y=!1;function H(n){return typeof n==\"object\"&&n!==null&&n.$$typeof===e}function pe(){{if(V.current){var n=p(V.current.type);if(n)return`\n\nCheck the render method of \\``+n+\"`.\"}return\"\"}}function _r(n){{if(n!==void 0){var d=n.fileName.replace(/^.*[\\\\\\/]/,\"\"),_=n.lineNumber;return`\n\nCheck your code at `+d+\":\"+_+\".\"}return\"\"}}var we={};function or(n){{var d=pe();if(!d){var _=typeof n==\"string\"?n:n.displayName||n.name;_&&(d=`\n\nCheck the top-level render call using <`+_+\">.\")}return d}}function Pe(n,d){{if(!n._store||n._store.validated||n.key!=null)return;n._store.validated=!0;var _=or(d);if(we[_])return;we[_]=!0;var o=\"\";n&&n._owner&&n._owner!==V.current&&(o=\" It was passed a child from \"+p(n._owner.type)+\".\"),j(n),c('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',_,o),j(null)}}function ye(n,d){{if(typeof n!=\"object\")return;if(M(n))for(var _=0;_<n.length;_++){var o=n[_];H(o)&&Pe(o,d)}else if(H(n))n._store&&(n._store.validated=!0);else if(n){var l=Se(n);if(typeof l==\"function\"&&l!==n.entries)for(var t=l.call(n),s;!(s=t.next()).done;)H(s.value)&&Pe(s.value,d)}}}function ir(n){{var d=n.type;if(d==null||typeof d==\"string\")return;var _;if(typeof d==\"function\")_=d.propTypes;else if(typeof d==\"object\"&&(d.$$typeof===C||d.$$typeof===R))_=d.propTypes;else return;if(_){var o=p(d);He(_,n.props,\"prop\",o,n)}else if(d.PropTypes!==void 0&&!Y){Y=!0;var l=p(d);c(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",l||\"Unknown\")}typeof d.getDefaultProps==\"function\"&&!d.getDefaultProps.isReactClassApproved&&c(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function sr(n){{for(var d=Object.keys(n.props),_=0;_<d.length;_++){var o=d[_];if(o!==\"children\"&&o!==\"key\"){j(n),c(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),j(null);break}}n.ref!==null&&(j(n),c(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),j(null))}}var Ne={};function lr(n,d,_,o,l,t){{var s=qe(n);if(!s){var i=\"\";(n===void 0||typeof n==\"object\"&&n!==null&&Object.keys(n).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var u=_r(l);u?i+=u:i+=pe();var f;n===null?f=\"null\":M(n)?f=\"array\":n!==void 0&&n.$$typeof===e?(f=\"<\"+(p(n.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):f=typeof n,c(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",f,i)}var m=dr(n,d,_,l,t);if(m==null)return m;if(s){var h=d.children;if(h!==void 0)if(o)if(M(h)){for(var v=0;v<h.length;v++)ye(h[v],n);Object.freeze&&Object.freeze(h)}else c(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ye(h,n)}if(g.call(d,\"key\")){var N=p(n),x=Object.keys(d).filter(function(fr){return fr!==\"key\"}),z=x.length>0?\"{key: someKey, \"+x.join(\": ..., \")+\": ...}\":\"{key: someKey}\";if(!Ne[N+z]){var tr=x.length>0?\"{\"+x.join(\": ..., \")+\": ...}\":\"{}\";c(`A props object containing a \"key\" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />`,z,N,tr,N),Ne[N+z]=!0}}return n===P?sr(m):ir(m),m}}var ar=lr;K.Fragment=P,K.jsxDEV=ar})()});var Ee=G((Er,ge)=>{\"use strict\";ge.exports=Ue()});var jr={};hr(jr,{default:()=>Nr,frontmatter:()=>Pr});var r=pr(Ee()),Pr={title:\"Dynamic Origin for CloudFront with Lambda@Edge\",description:\"Support infinite* origins for your CloudFront distribution with Lambda@Edge.\",tags:[\"AWS\",\"CloudFront\",\"Serverless\"],date:\"10/10/2024\",imageSrc:\"./image.jpg\",imageAlt:\"A person in a warehouse using a forklift.\",imageCredit:\"ELEVATE\"};function Ce(a){let e=Object.assign({blockquote:\"blockquote\",p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",h3:\"h3\",pre:\"pre\",code:\"code\"},a.components),{Details:b}=e;return b||kr(\"Details\",!0,\"26:1-28:11\"),(0,r.jsxDEV)(r.Fragment,{children:[(0,r.jsxDEV)(e.blockquote,{children:[`\n`,(0,r.jsxDEV)(e.p,{children:[\"If you're in a hurry, you can jump straight to the \",(0,r.jsxDEV)(e.a,{href:\"#the-solution\",children:\"solution\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:14,columnNumber:54},this),\".\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:14,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:14,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:[\"Recently I had to implement a solution that's now part of the live streaming capabilities of \",(0,r.jsxDEV)(e.a,{href:\"https://app.fanfest.io/psg\",children:\"FanFest v3\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:16,columnNumber:94},this),\" and it involved dealing with CloudFront and it ended up being a great opportunity to learn more about its inner-working.\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:\"The setup for this task is simple: for every live show we do, we have to create 2 AWS MediaLive channels (one for mobile and another one for desktop), and each channel has its own HLS endpoint. This was being distributed via S3 in its own bucket containing the segments and manifest files - since the S3 bucket is a single origin for the CloudFront distribution, that was easy-peasy.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:\"But then we noticed the latency of the channels was too high for the experiences we wanted to deliver to our users, so we decided to use MediaPackage to fix that. This creates a problem: each MediaPackage channel has its own endpoint which requires its individual origin in CloudFront.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:20,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:\"Digging up the AWS documentation, I found out that CloudFront only supports up-to 100 origins per distribution, which is a problem for us since we don't want to constrain ourselves to a fixed number of live shows. So I had to come up with a solution that would allow us to support inifinite (rather dynamic, we didn't really have infinite money \\u{1F61B}) origins for our CloudFront distribution.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:22,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:[\"Fortunately and thanks to all the great work from AWS team, I found this weirdly specific article on the subject: \",(0,r.jsxDEV)(e.a,{href:\"https://aws.amazon.com/blogs/media/creating-dynamic-mediapackage-origin-mappings-using-amazon-cloudfront-and-aws-lambdaedge/\",children:\"Creating dynamic MediaPackage origin mappings using Amazon CloudFront and AWS Lambda@Edge\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:24,columnNumber:115},this),\" so the implementation was pretty straightforward.\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,r.jsxDEV)(b,{summary:\"You're telling me you'll have 100 shows!? YAGNI\",children:(0,r.jsxDEV)(e.p,{children:\"Well, not really. But think about trying to come back to this later on and realising you have to refactor everything because you didn't think about it before. Since we're just getting started, it's better to think about it now and save ourselves some headaches later on.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:27,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:26,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.h2,{id:\"the-solution\",children:[(0,r.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-solution\",children:(0,r.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"The Solution\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:\"The solution is to use Lambda@Edge to route the requests to the desired Origin on demand.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:32,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.blockquote,{children:[`\n`,(0,r.jsxDEV)(e.p,{children:\"Since I find myself very comfortable using the Serverless Framework, I'll be using it in this guide to deploy the routing function. But notice that you can use similar tools or AWS' console to deploy the Lambda.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:34,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:34,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.h3,{id:\"step-1-create-the-lambdaedge-function\",children:[(0,r.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#step-1-create-the-lambdaedge-function\",children:(0,r.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"Step 1: Create the Lambda@Edge function\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:36,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:\"For this, you should have defined the URL scheme you'll use to route the requests. For our case, we decided to use a scheme similar to the following:\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:38,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.pre,{\"data-line-numbers\":\"true\",tabIndex:\"0\",\"data-lang\":\"javascript\",style:{color:\"var(--base05)\",backgroundColor:\"var(--base00)\"},children:(0,r.jsxDEV)(e.code,{children:(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"1\",children:[\"`\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"https://\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"distribution\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\".cloudfront.net/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"show_id\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"format\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"filename\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}`\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:40,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:[\"Where \",(0,r.jsxDEV)(e.code,{children:\"distribution\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:44,columnNumber:7},this),\" is the CloudFront distribution ID, \",(0,r.jsxDEV)(e.code,{children:\"show_id\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:44,columnNumber:57},this),\" is the ID of the show, \",(0,r.jsxDEV)(e.code,{children:\"format\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:44,columnNumber:90},this),\" is the format of the stream (e.g. \",(0,r.jsxDEV)(e.code,{children:\"mobile\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:44,columnNumber:133},this),\", \",(0,r.jsxDEV)(e.code,{children:\"desktop\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:44,columnNumber:143},this),\") and \",(0,r.jsxDEV)(e.code,{children:\"filename\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:44,columnNumber:158},this),\" is the name of the file requested.\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:44,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:\"Then we would route the request to the corresponding MediaPackage endpoint.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:46,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.pre,{\"data-line-numbers\":\"true\",tabIndex:\"0\",\"data-lang\":\"javascript\",style:{color:\"var(--base05)\",backgroundColor:\"var(--base00)\"},children:(0,r.jsxDEV)(e.code,{children:(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"1\",children:[\"`\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"https://\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"show_id\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\".mediapackagev2.eu-west-1.amazonaws.com/out/v1/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"show_id\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"-group/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"format\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"format\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"filename\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}`\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:48,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.blockquote,{children:[`\n`,(0,r.jsxDEV)(e.p,{children:\"Note that the params that you'll use to route the request can be anything you want, as long as you can parse them in the Lambda function and route the request accordingly.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:52,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:\"Now that we have the URL scheme defined, we can create the Lambda function that will route the requests:\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:54,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.pre,{\"data-line-numbers\":\"true\",tabIndex:\"0\",\"data-lang\":\"javascript\",style:{color:\"var(--base05)\",backgroundColor:\"var(--base00)\"},children:(0,r.jsxDEV)(e.code,{children:[(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"1\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"function\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"parseRequestParams\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"(\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"requestUrl\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\") {\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"2\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"// Target URI: /${show_id}/${format}/${filename}\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"3\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"const\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"regex\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0C)\"},children:\" \"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"/\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0C)\"},children:\"\\\\/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"([\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"^\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0C)\"},children:\"\\\\/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"]\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"+\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\")\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0C)\"},children:\"\\\\/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"([\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"^\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0C)\"},children:\"\\\\/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"]\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"+\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\")\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0C)\"},children:\"\\\\/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"([\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"^\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0C)\"},children:\"\\\\/?\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"]\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"+\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\")\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"?\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0C)\"},children:\".\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"*\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"/\",\";\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"4\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"const\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"match\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"requestUrl\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"match\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"(\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"regex\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\");\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"5\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"6\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"if\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" (\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"!\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"match\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\") {\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"7\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"throw\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"new\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"Error\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"(\",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"Invalid request url \"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"+\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"requestUrl\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\");\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"8\",children:[\"  }\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"9\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"10\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"const\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" [, \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"showId\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\", \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"format\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\", \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"filename\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"] \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"match\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\";\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"11\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"12\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"// TODO: validate params...\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"13\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"14\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"return\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" {\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"15\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"showId\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\",\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"16\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"format\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\",\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"17\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"filename\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\",\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"18\",children:[\"  };\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"19\",children:[\"}\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"20\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"21\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"async\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"function\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"handler\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" (\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"event\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\") {\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"22\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"const\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"request\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"event\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Records\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"[\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"0\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"].\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"cf\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"request\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\";\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"23\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"const\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"uri\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"request\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"uri\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\";\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"24\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"25\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"try\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" {\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"26\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"const\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" { \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"showId\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\", \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"format\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\", \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"filename\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" } \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"27\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"parseRequestParams\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"(\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"uri\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\");\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"28\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"29\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"const\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"domainName\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",\"`${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"showId\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\".mediapackagev2.eu-west-1.amazonaws.com\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"`\",\";\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"30\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"const\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"path\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",\"`\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"/out/v1/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"showId\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"-group/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"format\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"format\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"/\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"${\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"filename\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"}`\",\";\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"31\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"32\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"// Update the URL\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"33\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"request\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"origin\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"!\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"custom\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"!\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"domainName\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"domainName\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\";\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"34\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"request\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"uri\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"path\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\";\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"35\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"request\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"headers\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"[\",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"host\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',\"] \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" [{ key: \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"Host\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',\", value: \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"domainName\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" }];\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"36\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"console\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"log\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"(\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"request\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\");\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"37\",children:[\"  } \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"catch\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" (\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"error\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\") {\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"38\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"// If something goes wrong, keep the original request and do no routing\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"39\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"// TODO: redirect to a custom not found page\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"40\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"console\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"error\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"(\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"error\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\");\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"41\",children:[\"  }\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"42\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"43\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"return\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"request\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\";\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"44\",children:[\"};\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"45\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"46\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0C)\"},children:\"module\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\".\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0C)\"},children:\"exports\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" { \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"handler\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" };\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,r.jsxDEV)(b,{summary:\"Using TypeScript? Here's the type definitions for the handler function\",children:[(0,r.jsxDEV)(e.p,{children:[\"Just import the types \",(0,r.jsxDEV)(e.code,{children:\"CloudFrontRequestEvent\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:106,columnNumber:23},this),\",  \",(0,r.jsxDEV)(e.code,{children:\"CloudFrontRequestHandler\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:106,columnNumber:50},this),\" and \",(0,r.jsxDEV)(e.code,{children:\"CloudFrontRequestResult\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:106,columnNumber:81},this),\" from \",(0,r.jsxDEV)(e.code,{children:\"@types/aws-lambda\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:106,columnNumber:112},this),\" package.\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:106,columnNumber:1},this),(0,r.jsxDEV)(e.pre,{\"data-line-numbers\":\"true\",tabIndex:\"0\",\"data-lang\":\"typescript\",style:{color:\"var(--base05)\",backgroundColor:\"var(--base00)\"},children:(0,r.jsxDEV)(e.code,{children:[(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"1\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"import\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"type\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" {\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"2\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"CloudFrontRequestEvent\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\",\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"3\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"CloudFrontRequestHandler\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\",\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"4\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"CloudFrontRequestResult\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\",\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"5\",children:[\"} \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"from\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"aws-lambda\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',\";\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"6\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"7\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"// Match the following signature\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"8\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"type\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"Handler\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\"=\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" (\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"event\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0E)\"},children:\":\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"CloudFrontRequestEvent\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\") \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0D)\"},children:\"=>\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"Promise\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"<\",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"CloudFrontRequestResult\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\">\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:108,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:105,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.h3,{id:\"step-2-deploy-the-lambda-function\",children:[(0,r.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#step-2-deploy-the-lambda-function\",children:(0,r.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"Step 2: Deploy the Lambda function\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:120,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:[\"Now that we have the Lambda function ready, we can deploy it using the Serverless Framework. In my case, I'm deploying the CloudFront distribution and the Lambda function in the same stack, here's the \",(0,r.jsxDEV)(e.code,{children:\"serverless.yml\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:122,columnNumber:202},this),\" file:\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:122,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.pre,{\"data-line-numbers\":\"true\",tabIndex:\"0\",\"data-lang\":\"yaml\",style:{color:\"var(--base05)\",backgroundColor:\"var(--base00)\"},children:(0,r.jsxDEV)(e.code,{children:[(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"1\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"service\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"cloudfront-router\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"2\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"configValidationMode\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"error\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"3\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"frameworkVersion\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"3\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"4\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"5\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"plugins\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"6\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# Using this plugin for a simpler CF configuration than the native \"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"7\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# offering from the Serverless Framework\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"8\",children:[\"  - \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"@silvermine/serverless-plugin-cloudfront-lambda-edge\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"9\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"10\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"provider\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"11\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"name\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"aws\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"12\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# Lambda@Edge requires the function to be deployed in us-east-1 (Virginia)!\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"13\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"region\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"us-east-1\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"14\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"runtime\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"nodejs18.x\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"15\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"16\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# Remember to enter the pattern (path) to the files you'll use for the function\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"17\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"package\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"18\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"pattern\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"19\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"src/**/*\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"20\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"21\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"resources\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"22\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Resources\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"23\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"MediaCloudFrontDistribution\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"24\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Type\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"AWS::CloudFront::Distribution\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"25\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Properties\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"26\",children:[\"        \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"DistributionConfig\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"27\",children:[\"          \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Enabled\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"true\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"28\",children:[\"          \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"DefaultCacheBehavior\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"29\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"TargetOriginId\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"DefaultOrigin\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"30\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"ViewerProtocolPolicy\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"redirect-to-https\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"31\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"AllowedMethods\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"32\",children:[\"              - \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"GET\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"33\",children:[\"              - \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"HEAD\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"34\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"CachedMethods\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"35\",children:[\"              - \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"GET\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"36\",children:[\"              - \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"HEAD\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"37\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"ForwardedValues\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"38\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"QueryString\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"true\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"39\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Cookies\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"40\",children:[\"                \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Forward\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"none\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"41\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"ResponseHeadersPolicyId\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"!Ref\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"MediaCFResponseHeadersPolicy\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"42\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Compress\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"true\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"43\",children:[\"          \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"ViewerCertificate\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"44\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"CloudFrontDefaultCertificate\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"true\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"45\",children:[\"          \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"HttpVersion\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"http2\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"46\",children:[\"          \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"PriceClass\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"PriceClass_100\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"47\",children:[\"          \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Origins\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"48\",children:[\"            - \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Id\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"DefaultOrigin\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"49\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# This domain needs to match the domain you use in your\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"50\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# Lambda code.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"51\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# --------------\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"52\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# Also - This will be the default request origin if your lambda\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"53\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# doesn't re-route the calls using whatever URL scheme you defined\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"54\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# so make sure this points to somewhere valid inside the domain\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"55\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# you'll redirect to in the Lambda code.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"56\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"57\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"DomainName\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"mediapackagev2.eu-west-1.amazonaws.com\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"58\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"CustomOriginConfig\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"59\",children:[\"                \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"HTTPPort\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"80\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"60\",children:[\"                \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"HTTPSPort\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"443\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"61\",children:[\"                \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"OriginProtocolPolicy\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"match-viewer\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"62\",children:[\"                \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"OriginReadTimeout\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"30\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"63\",children:[\"                \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"OriginKeepaliveTimeout\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"5\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"64\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"ConnectionAttempts\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"3\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"65\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"ConnectionTimeout\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"10\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"66\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"67\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"MediaCFResponseHeadersPolicy\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"68\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Type\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"AWS::CloudFront::ResponseHeadersPolicy\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"69\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Properties\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"70\",children:[\"        \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"ResponseHeadersPolicyConfig\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"71\",children:[\"          \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Name\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"allow-website\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"72\",children:[\"          \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Comment\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"Allow main website\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"73\",children:[\"          \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"CorsConfig\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"74\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"AccessControlAllowCredentials\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"false\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"75\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"AccessControlAllowMethods\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"76\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Items\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"77\",children:[\"                - \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"GET\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"78\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"AccessControlAllowOrigins\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"79\",children:[\"              \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Items\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"80\",children:[\"                \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# Remember to use your actual domain here\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"81\",children:[\"                - \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"example.com\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"82\",children:[\"            \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"OriginOverride\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base09)\"},children:\"true\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"83\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# These outputs are more for reference, they'll help you debug\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"84\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# your CF distribution if necessary\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"85\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Outputs\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"86\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"DistributionId\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"87\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Value\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"!GetAtt\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"MediaCloudFrontDistribution.Id\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"88\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Export\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"89\",children:[\"        \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Name\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"DistributionId\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"90\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"DomainName\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"91\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Value\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"!GetAtt\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"MediaCloudFrontDistribution.DomainName\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"92\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Export\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"93\",children:[\"        \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"Name\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"DomainName\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"94\",children:`\n`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"95\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"functions\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"96\",children:[\"  \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"cloudFrontRouter\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"97\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base03)\"},children:\"# Path to the actual function\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"98\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"handler\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"src/index.handler\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"99\",children:[\"    \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"lambdaAtEdge\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\":\",`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"100\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"distribution\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"MediaCloudFrontDistribution\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"101\",children:[\"      \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base08)\"},children:\"eventType\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\": \",'\"',(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"origin-request\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),'\"',`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:124,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.h3,{id:\"step-3-deploy-the-stack\",children:[(0,r.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#step-3-deploy-the-stack\",children:(0,r.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\"Step 3: Deploy the stack\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:228,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:[\"Now that we have the \",(0,r.jsxDEV)(e.code,{children:\"serverless.yml\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:230,columnNumber:22},this),\" file ready, we can deploy the stack using the Serverless Framework:\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:230,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.pre,{\"data-line-numbers\":\"true\",tabIndex:\"0\",\"data-lang\":\"bash\",style:{color:\"var(--base05)\",backgroundColor:\"var(--base00)\"},children:(0,r.jsxDEV)(e.code,{children:(0,r.jsxDEV)(e.span,{className:\"codeblock-line\",\"data-line-number\":\"1\",children:[(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0A)\"},children:\"serverless\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),\" \",(0,r.jsxDEV)(e.span,{style:{color:\"var(--base0B)\"},children:\"deploy\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:232,columnNumber:1},this),`\n`,(0,r.jsxDEV)(e.p,{children:[\"And that's it! You should now have a CloudFront distribution that routes the requests to the desired Origin endpoint based on the URL scheme you defined back in \",(0,r.jsxDEV)(e.a,{href:\"#step-1-create-the-lambdaedge-function\",children:\"Step #1\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:236,columnNumber:162},this),\".\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:236,columnNumber:1},this),`\n`,(0,r.jsxDEV)(b,{summary:\"What about the costs?\",children:[(0,r.jsxDEV)(e.p,{children:[\"The costs of this solution are minimal, since you're only charged for the requests made to the Lambda function to perform the routing, and the CloudFront distribution itself. You can check the pricing for Lambda@Edge \",(0,r.jsxDEV)(e.a,{href:\"https://aws.amazon.com/lambda/pricing/\",children:\"here\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:239,columnNumber:220},this),\" and for CloudFront \",(0,r.jsxDEV)(e.a,{href:\"https://aws.amazon.com/cloudfront/pricing/\",children:\"here\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:239,columnNumber:286},this),\".\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:239,columnNumber:3},this),(0,r.jsxDEV)(e.p,{children:[\"But for our specific use case, the costs are defined in the article \",(0,r.jsxDEV)(e.a,{href:\"https://aws.amazon.com/blogs/media/creating-dynamic-mediapackage-origin-mappings-using-amazon-cloudfront-and-aws-lambdaedge/\",children:\"here\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:241,columnNumber:71},this),\"; quoting from it:\"]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:241,columnNumber:3},this),(0,r.jsxDEV)(\"blockquote\",{children:[(0,r.jsxDEV)(e.p,{children:\"The pricing of CloudFront is described here: https://aws.amazon.com/cloudfront/pricing/. Note, both Data Transfer Out costs and Origin Shield Requests costs apply in this example. Origin Shield has been enabled to help reduce the number of origin requests (and so reducing the number of Lambda@Edge invocations).\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:244,columnNumber:5},this),(0,r.jsxDEV)(e.p,{children:\"Lambda@Edge has two pricing components:\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:246,columnNumber:5},this),(0,r.jsxDEV)(e.p,{children:`Request pricing is $0.60 per 1 million requests ($0.0000006 per request).\nDuration is priced at $0.00005001 for every GB-second used, metered in 1ms granularity. As the function above is sized at 128mb and executes in 2ms on average, the price per invocation is roughly $0.0000000125025 per origin request.\nTaking the total of requests + duration gives each Lambda@Edge invocation (for each origin request) a total cost of $0.0000006125025.`},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:248,columnNumber:5},this),(0,r.jsxDEV)(e.p,{children:\"Calculating the number of origin requests is based on number of factors. Origin requests will be made for each media segment and manifest updates when there is a cache miss. As such, the adaptive bitrate segment length of the media affects how often origin requests are made. It is worthwhile to measure the number of origin requests on your origin to calculate the cost of the solution.\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:252,columnNumber:5},this),(0,r.jsxDEV)(e.p,{children:\"As an example, in an environment where 100 requests per second are made to the origin, the total Lambda@Edge cost for a 3 hour event would be:\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:254,columnNumber:5},this),(0,r.jsxDEV)(e.p,{children:\"100 (requests per second) x 3600 (seconds in 1 hour) x 3 (hours) x $0.0000006125025 (cost per origin request) = $0.66\"},void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:256,columnNumber:5},this)]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:243,columnNumber:3},this)]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:238,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\",lineNumber:1,columnNumber:1},this)}function yr(a={}){let{wrapper:e}=a.components||{};return e?(0,r.jsxDEV)(e,Object.assign({},a,{children:(0,r.jsxDEV)(Ce,a,void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this)}),void 0,!1,{fileName:\"/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx\"},this):Ce(a)}var Nr=yr;function kr(a,e,b){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(b?\"\\nIt\\u2019s referenced in your code at `\"+b+\"` in `/Users/rowin/Projects/Personal/rowinbot.com/__mdx_bundler_fake_dir__/_mdx_bundler_entry_point-5345652d-5230-4b83-8785-f1869d63fe80.mdx`\":\"\"))}return wr(jr);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;","frontmatter":{"title":"Dynamic Origin for CloudFront with Lambda@Edge","description":"Support infinite* origins for your CloudFront distribution with Lambda@Edge.","tags":["AWS","CloudFront","Serverless"],"date":"10/10/2024","imageSrc":"/build/journal/cloudfront-lambda-edge/image.jpg","imageAlt":"A person in a warehouse using a forklift.","imageCredit":"ELEVATE","imageBlurUri":"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAHAAoDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAYH/8QAIRAAAgICAQQDAAAAAAAAAAAAAQIDBAAFEQYSITEyQUL/xAAVAQEBAAAAAAAAAAAAAAAAAAABBP/EABoRAAIDAQEAAAAAAAAAAAAAAAECABGxUWH/2gAMAwEAAhEDEQA/ALLfbKjY3VrVS066Vg1qRZZ4AwR+PlwCe7liv58dozGbOj6MlsyySbnqtXdyzCOKAKCT9efWMZMq0zD07F2oCuDJ/9k="},"errors":[],"matter":{"content":"\n> If you're in a hurry, you can jump straight to the [solution](#the-solution).\n\nRecently I had to implement a solution that's now part of the live streaming capabilities of [FanFest v3](https://app.fanfest.io/psg) and it involved dealing with CloudFront and it ended up being a great opportunity to learn more about its inner-working.\n\nThe setup for this task is simple: for every live show we do, we have to create 2 AWS MediaLive channels (one for mobile and another one for desktop), and each channel has its own HLS endpoint. This was being distributed via S3 in its own bucket containing the segments and manifest files - since the S3 bucket is a single origin for the CloudFront distribution, that was easy-peasy.\n\nBut then we noticed the latency of the channels was too high for the experiences we wanted to deliver to our users, so we decided to use MediaPackage to fix that. This creates a problem: each MediaPackage channel has its own endpoint which requires its individual origin in CloudFront.\n\nDigging up the AWS documentation, I found out that CloudFront only supports up-to 100 origins per distribution, which is a problem for us since we don't want to constrain ourselves to a fixed number of live shows. So I had to come up with a solution that would allow us to support inifinite (rather dynamic, we didn't really have infinite money ) origins for our CloudFront distribution.\n\nFortunately and thanks to all the great work from AWS team, I found this weirdly specific article on the subject: [Creating dynamic MediaPackage origin mappings using Amazon CloudFront and AWS Lambda@Edge](https://aws.amazon.com/blogs/media/creating-dynamic-mediapackage-origin-mappings-using-amazon-cloudfront-and-aws-lambdaedge/) so the implementation was pretty straightforward.\n\n<Details summary=\"You're telling me you'll have 100 shows!? YAGNI\">\nWell, not really. But think about trying to come back to this later on and realising you have to refactor everything because you didn't think about it before. Since we're just getting started, it's better to think about it now and save ourselves some headaches later on.\n</Details>\n\n## The Solution\n\nThe solution is to use Lambda@Edge to route the requests to the desired Origin on demand.\n\n> Since I find myself very comfortable using the Serverless Framework, I'll be using it in this guide to deploy the routing function. But notice that you can use similar tools or AWS' console to deploy the Lambda.\n\n### Step 1: Create the Lambda@Edge function\n\nFor this, you should have defined the URL scheme you'll use to route the requests. For our case, we decided to use a scheme similar to the following:\n\n```javascript\n`https://${distribution}.cloudfront.net/${show_id}/${format}/${filename}`\n```\n\nWhere `distribution` is the CloudFront distribution ID, `show_id` is the ID of the show, `format` is the format of the stream (e.g. `mobile`, `desktop`) and `filename` is the name of the file requested.\n\nThen we would route the request to the corresponding MediaPackage endpoint.\n\n```javascript\n`https://${show_id}.mediapackagev2.eu-west-1.amazonaws.com/out/v1/${show_id}-group/${format}/${format}/${filename}`\n```\n\n> Note that the params that you'll use to route the request can be anything you want, as long as you can parse them in the Lambda function and route the request accordingly.\n\nNow that we have the URL scheme defined, we can create the Lambda function that will route the requests:\n\n```javascript\nfunction parseRequestParams(requestUrl) {\n  // Target URI: /${show_id}/${format}/${filename}\n  const regex = /\\/([^\\/]+)\\/([^\\/]+)\\/([^\\/?]+)?.*/;\n  const match = requestUrl.match(regex);\n\n  if (!match) {\n    throw new Error(\"Invalid request url \" + requestUrl);\n  }\n\n  const [, showId, format, filename] = match;\n\n  // TODO: validate params...\n\n  return {\n    showId,\n    format,\n    filename,\n  };\n}\n\nasync function handler (event) {\n  const request = event.Records[0].cf.request;\n  const uri = request.uri;\n\n  try {\n    const { showId, format, filename } =\n      parseRequestParams(uri);\n\n    const domainName = `${showId}.mediapackagev2.eu-west-1.amazonaws.com`;\n    const path = `/out/v1/${showId}-group/${format}/${format}/${filename}`;\n\n    // Update the URL\n    request.origin!.custom!.domainName = domainName;\n    request.uri = path;\n    request.headers[\"host\"] = [{ key: \"Host\", value: domainName }];\n    console.log(request);\n  } catch (error) {\n    // If something goes wrong, keep the original request and do no routing\n    // TODO: redirect to a custom not found page\n    console.error(error);\n  }\n\n  return request;\n};\n\nmodule.exports = { handler };\n```\n\n<Details summary=\"Using TypeScript? Here's the type definitions for the handler function\">\nJust import the types `CloudFrontRequestEvent`,  `CloudFrontRequestHandler` and `CloudFrontRequestResult` from `@types/aws-lambda` package.\n\n```typescript\nimport type {\n  CloudFrontRequestEvent,\n  CloudFrontRequestHandler,\n  CloudFrontRequestResult,\n} from \"aws-lambda\";\n\n// Match the following signature\ntype Handler = (event: CloudFrontRequestEvent) => Promise<CloudFrontRequestResult>\n```\n</Details>\n\n### Step 2: Deploy the Lambda function\n\nNow that we have the Lambda function ready, we can deploy it using the Serverless Framework. In my case, I'm deploying the CloudFront distribution and the Lambda function in the same stack, here's the `serverless.yml` file:\n\n```yaml\nservice: cloudfront-router\nconfigValidationMode: error\nframeworkVersion: \"3\"\n\nplugins:\n  # Using this plugin for a simpler CF configuration than the native \n  # offering from the Serverless Framework\n  - \"@silvermine/serverless-plugin-cloudfront-lambda-edge\"\n\nprovider:\n  name: aws\n  # Lambda@Edge requires the function to be deployed in us-east-1 (Virginia)!\n  region: us-east-1\n  runtime: nodejs18.x\n\n# Remember to enter the pattern (path) to the files you'll use for the function\npackage:\n  pattern:\n    src/**/*\n\nresources:\n  Resources:\n    MediaCloudFrontDistribution:\n      Type: AWS::CloudFront::Distribution\n      Properties:\n        DistributionConfig:\n          Enabled: true\n          DefaultCacheBehavior:\n            TargetOriginId: DefaultOrigin\n            ViewerProtocolPolicy: redirect-to-https\n            AllowedMethods:\n              - GET\n              - HEAD\n            CachedMethods:\n              - GET\n              - HEAD\n            ForwardedValues:\n              QueryString: true\n              Cookies:\n                Forward: none\n            ResponseHeadersPolicyId: !Ref MediaCFResponseHeadersPolicy\n            Compress: true\n          ViewerCertificate:\n            CloudFrontDefaultCertificate: true\n          HttpVersion: http2\n          PriceClass: PriceClass_100\n          Origins:\n            - Id: \"DefaultOrigin\"\n              # This domain needs to match the domain you use in your\n              # Lambda code.\n              # --------------\n              # Also - This will be the default request origin if your lambda\n              # doesn't re-route the calls using whatever URL scheme you defined\n              # so make sure this points to somewhere valid inside the domain\n              # you'll redirect to in the Lambda code.\n\n              DomainName: mediapackagev2.eu-west-1.amazonaws.com\n              CustomOriginConfig:\n                HTTPPort: 80\n                HTTPSPort: 443\n                OriginProtocolPolicy: \"match-viewer\"\n                OriginReadTimeout: 30\n                OriginKeepaliveTimeout: 5\n              ConnectionAttempts: 3\n              ConnectionTimeout: 10\n\n    MediaCFResponseHeadersPolicy:\n      Type: AWS::CloudFront::ResponseHeadersPolicy\n      Properties:\n        ResponseHeadersPolicyConfig:\n          Name: \"allow-website\"\n          Comment: \"Allow main website\"\n          CorsConfig:\n            AccessControlAllowCredentials: false\n            AccessControlAllowMethods:\n              Items:\n                - \"GET\"\n            AccessControlAllowOrigins:\n              Items:\n                # Remember to use your actual domain here\n                - \"example.com\"\n            OriginOverride: true\n  # These outputs are more for reference, they'll help you debug\n  # your CF distribution if necessary\n  Outputs:\n    DistributionId:\n      Value: !GetAtt MediaCloudFrontDistribution.Id\n      Export:\n        Name: DistributionId\n    DomainName:\n      Value: !GetAtt MediaCloudFrontDistribution.DomainName\n      Export:\n        Name: DomainName\n\nfunctions:\n  cloudFrontRouter:\n    # Path to the actual function\n    handler: src/index.handler\n    lambdaAtEdge:\n      distribution: MediaCloudFrontDistribution\n      eventType: \"origin-request\"\n```\n\n### Step 3: Deploy the stack\n\nNow that we have the `serverless.yml` file ready, we can deploy the stack using the Serverless Framework:\n\n```bash\nserverless deploy\n```\n\nAnd that's it! You should now have a CloudFront distribution that routes the requests to the desired Origin endpoint based on the URL scheme you defined back in [Step #1](#step-1-create-the-lambdaedge-function).\n\n<Details summary=\"What about the costs?\">\n  The costs of this solution are minimal, since you're only charged for the requests made to the Lambda function to perform the routing, and the CloudFront distribution itself. You can check the pricing for Lambda@Edge [here](https://aws.amazon.com/lambda/pricing/) and for CloudFront [here](https://aws.amazon.com/cloudfront/pricing/).\n\n  But for our specific use case, the costs are defined in the article [here](https://aws.amazon.com/blogs/media/creating-dynamic-mediapackage-origin-mappings-using-amazon-cloudfront-and-aws-lambdaedge/); quoting from it:\n\n  <blockquote>\n    The pricing of CloudFront is described here: https://aws.amazon.com/cloudfront/pricing/. Note, both Data Transfer Out costs and Origin Shield Requests costs apply in this example. Origin Shield has been enabled to help reduce the number of origin requests (and so reducing the number of Lambda@Edge invocations).\n\n    Lambda@Edge has two pricing components:\n\n    Request pricing is $0.60 per 1 million requests ($0.0000006 per request).\n    Duration is priced at $0.00005001 for every GB-second used, metered in 1ms granularity. As the function above is sized at 128mb and executes in 2ms on average, the price per invocation is roughly $0.0000000125025 per origin request.\n    Taking the total of requests + duration gives each Lambda@Edge invocation (for each origin request) a total cost of $0.0000006125025.\n\n    Calculating the number of origin requests is based on number of factors. Origin requests will be made for each media segment and manifest updates when there is a cache miss. As such, the adaptive bitrate segment length of the media affects how often origin requests are made. It is worthwhile to measure the number of origin requests on your origin to calculate the cost of the solution.\n\n    As an example, in an environment where 100 requests per second are made to the origin, the total Lambda@Edge cost for a 3 hour event would be:\n\n    100 (requests per second) x 3600 (seconds in 1 hour) x 3 (hours) x $0.0000006125025 (cost per origin request) = $0.66\n  </blockquote>\n</Details>\n","data":{"title":"Dynamic Origin for CloudFront with Lambda@Edge","description":"Support infinite* origins for your CloudFront distribution with Lambda@Edge.","tags":["AWS","CloudFront","Serverless"],"date":"10/10/2024","imageSrc":"/build/journal/cloudfront-lambda-edge/image.jpg","imageAlt":"A person in a warehouse using a forklift.","imageCredit":"ELEVATE","imageBlurUri":"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAHAAoDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAYH/8QAIRAAAgICAQQDAAAAAAAAAAAAAQIDBAAFEQYSITEyQUL/xAAVAQEBAAAAAAAAAAAAAAAAAAABBP/EABoRAAIDAQEAAAAAAAAAAAAAAAECABGxUWH/2gAMAwEAAhEDEQA/ALLfbKjY3VrVS066Vg1qRZZ4AwR+PlwCe7liv58dozGbOj6MlsyySbnqtXdyzCOKAKCT9efWMZMq0zD07F2oCuDJ/9k="},"isEmpty":false,"excerpt":""}}